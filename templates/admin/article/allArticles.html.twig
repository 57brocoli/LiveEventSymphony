{% extends 'base.html.twig' %}

{% block title %}Article
{% endblock %}

{% block body %}

	<header class='container pt-5 pb-4'>
		<article class='row'>
			<h1 class='fw-bold col ps-0'>Liste de tous les articles
				{% if slug is defined %}
					de la category
					{{slug}}
				{% endif %}
			</h1>
			<hr>
		</article>
		<a class='btn btn-primary row' href="{{path('app_editArticle')}}">Rédiger un nouveau article</a>
	</header>
	{% if articles is not empty %}
		<main class='container-fluid '>
			<section class="row">
				{% for article in articles %}
					<article class="col-12 px-0">
						<section class='py-4 bgImg' {% if article.images is not empty %} style="background-image:url('{{asset('assets/uploads/articles/diapo/')}}{{article.images[0].name}}')" {% endif %}></section>
						<section class='text-white bgText'>
							<h2 class='fw-bold h1'>{{article.title}}</h2>
							<p>{{article.introduction}}</p>
							<p class='fst-italic'>Publier le :
								{{article.createdAt|date("d/m/Y")}}
								<br>
								par :
								{{article.author}}</p>
							<a class='text-decoration-none' href="{{path('app_article_details', {slug: article.slug})}}">
								<button class='btn btn-primary'>Voir plus de details</button>
							</a>
							<a class='text-decoration-none' href="{{path('app_editArticle', {id: article.id})}}">
								<button class='btn btn-success'>Modifier</button>
							</a>
						</section>
					</article>
				{% endfor %}
			</section>
			<div class="mt-3 d-flex justify-content-center">{{knp_pagination_render(articles)}}</div>
		</main>
	{% else %}
		<article class='container py-4'>
			<p>Il n'y a pour l'instant aucun article</p>
			<p>Vous pouvez commencer à rediger en cliquant sur le bouton ci dessus</p>
		</article>
	{% endif %}
{% endblock %}
